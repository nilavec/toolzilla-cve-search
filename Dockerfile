FROM docker.io/bitnami/mongodb:4.4.2-debian-10-r0
MAINTAINER Nilave
USER root
RUN apt-get -y update && apt-get -y install git
RUN git clone https://github.com/cve-search/cve-search.git

# Install Python3
RUN apt install -y python3-pip

RUN pip3 install -r cve-search/requirements.txt

#RUN cve-search/sbin/db_mgmt_cpe_dictionary.py -p
#RUN cve-search/sbin/db_mgmt_json.py -p
#RUN cve-search/sbin/db_updater.py -c 

EXPOSE 27017
ENTRYPOINT [ "/entrypoint.sh" ]
CMD [ "/run.sh" ]
